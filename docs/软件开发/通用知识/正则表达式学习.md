---
title:正则表达式学习
date:2017-12-18 17:05:25
categories:[笔记]
tags:[正则表达式]
---

> 正则是什么？
>
> 在编写处理字符串的程序或网页时，经常会有查找符合某些复杂规则的字符串的需要。正则表达式就是用于描述这些规则的工具。即：正则表达式就是记录文本规则的代码。

[参考（正则表达式 30 分钟入门教程）](http://www.jb51.net/tools/zhengze.html)

# 元字符

> [正则表达式里由两部分组成，**正常文本**和**元字符**](https://baike.baidu.com/item/%E5%85%83%E5%AD%97%E7%AC%A6/6062776?fr=aladdin)，元字符就是正则表达式规定的具有特殊意义的代码，代表一种规则。

常用元字符

| 代码   | 说明             |
| ---- | -------------- |
| .    | 匹配除换行符以外的任意字符  |
| \w   | 匹配字母或数字或下划线或汉字 |
| \s   | 匹配任意的空白符       |
| \d   | 匹配数字           |
| \b   | 匹配单词的结束或开始     |
| ^    | 匹配字符串的开始       |
| $    | 匹配字符串的结束       |

# 字符转义

如果你想查找元字符本身的话，比如你查找., 或者 *, 就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用 \ 来取消这些字符的特殊意义。因此，你应该使用 \. 和 \*。当然，要查找 \ 本身，你也得用 \\.

# 重复

正则表达式中所有的限定符（指定数量的代码，例如*,{5,12}等）

| 代码/语法 | 说明       |
| ----- | -------- |
| *     | 重复零次或更多次 |
| +     | 重复一次或更多次 |
| ?     | 重复零次或一次  |
| {n}   | 重复n次     |
| {n,}  | 重复n次或更多次 |
| {n,m} | 重复n到m次   |

# 字符类

要想查找数字，字母或数字，空白是很简单的，因为已经有了对应这些字符集合的元字符，但是如果你想匹配没有预定义元字符的字符集合 (比如元音字母 a,e,i,o,u), 应该怎么办？

只需要在**方括号**里列出它们就行了，像` [aeiou] `就匹配任何一个英文元音字母，`[.?!] `匹配标点符号 (. 或? 或!)。

也可以轻松地指定一个字符范围，像` [0-9] `代表的含意与 \d 就是完全一致的：一位数字；同理 `[a-z0-9A-Z_] `也完全等同于 \w（如果只考虑英文的话）。

下面尝试分析一个更复杂的表达式`\(?0\d{2}[) -]?\d{8}`

* `\(?`标识`(`可以出现 0 次或 1 次(`?`)
* `0`开头，后面跟两个数字(`\d{2}`)
* `[) -]?`方括号中的`) -`表示匹配这三个字符(`)`, , `-`)中的一个，出现0次或1次(`?`)
* 后面跟了8个数字(`\d{8}`)

这个表达式可以匹配几种格式的电话号码：

# 分支条件

上边那个正则并不完善，因为可以匹配到括号不成对出现这种情况，比如 `010)12345678`

